@import url('https://fonts.googleapis.com/css2?family=Nunito:wght@700;900&family=Inter:wght@400;600&display=swap');

:root{
  --bg:#2b64c7; /* base blue */
  --panel:#ffffff; --panel2:#ffffff;
  --border:rgba(16,24,40,.15);
  --text:#0b1020; --muted:#5b6785; --accent:#5aa7ff; --accent2:#22c55e; --danger:#ef4444; --success:#22c55e;
  --shadow: 0 6px 16px rgba(15, 23, 42, .08);
}
*{box-sizing:border-box}
html,body,#root{height:100%}
body{margin:0;/* playful doodle-like pattern */
  background:
    radial-gradient(18px 18px at 20px 20px, rgba(255,255,255,.06) 25%, transparent 26%),
    radial-gradient(18px 18px at 10px 8px, rgba(0,0,0,.06) 12%, transparent 13%),
    linear-gradient(0deg, rgba(255,255,255,.04), rgba(255,255,255,.04)),
    var(--bg);
  background-size: 60px 60px, 60px 60px, 100% 100%, auto;
  background-blend-mode: screen, normal, normal, normal;
  color:var(--text);font-family:Inter,system-ui,Arial}

.app{display:grid;grid-template-rows:64px 1fr;grid-template-columns:270px 1fr 340px;grid-template-areas:"header header header" "sidebar stage chat";gap:12px;height:100%;padding:12px}
/* Window-opening reveal when overlay closes */
.app.reveal-open .header,
.app.reveal-open .sidebar,
.app.reveal-open .stage,
.app.reveal-open .chat{animation:revealWindow .42s cubic-bezier(.2,.9,.2,1) forwards}
.app.reveal-open .sidebar{animation-delay:.04s}
.app.reveal-open .stage{animation-delay:.06s}
.app.reveal-open .chat{animation-delay:.08s}
@keyframes revealWindow{0%{opacity:0;transform:scale(.94) perspective(800px) rotateX(6deg);transform-origin:50% 10%}60%{opacity:1;transform:scale(1.005) perspective(800px) rotateX(-1deg)}100%{opacity:1;transform:scale(1) perspective(800px) rotateX(0)} }
.header{grid-area:header;display:grid;grid-template-columns:1fr auto 1fr;align-items:center;gap:8px;padding:10px 12px;background:#ffffff;border:1px solid var(--border);border-radius:10px;box-shadow:var(--shadow)}
.logo{font-family:Nunito,system-ui;font-weight:900;font-size:24px;letter-spacing:.5px;background:linear-gradient(135deg,#7c5cff,#34d399);-webkit-background-clip:text;background-clip:text;color:transparent}
.header .meta{display:flex;gap:8px;align-items:center;justify-content:flex-end}
.header .center-word{display:flex;justify-content:center;align-items:center}
.header .center-word .center-stack{display:flex;flex-direction:column;align-items:center;gap:6px}
.center-row{display:flex;align-items:center;gap:12px}
.masked-word{font-family:Nunito,system-ui;font-weight:900;font-size:26px;letter-spacing:4px}
.masked-word.reveal{animation:wobble .45s ease}
@keyframes wobble{0%{transform:scale(0.98) rotate(-0.5deg)}50%{transform:scale(1.02) rotate(0.5deg)}100%{transform:scale(1) rotate(0deg)}}
.badge{padding:6px 10px;border-radius:999px;background:#f3f6ff;color:#0b1020;border:1px solid var(--border);font-size:12px}
.icon-btn{padding:6px 8px;border-radius:10px;border:1px solid var(--border);background:#ffffff;cursor:pointer;font-size:14px;line-height:1}
.icon-btn:hover{background:#f8fafc}

/* Header timer (skribbl-like) */
.timer-wrap{display:flex;align-items:center;gap:8px}
.timer-track{width:300px;height:12px;background:#e9eefc;border:1px solid #c7d2fe;border-radius:999px;overflow:hidden;box-shadow:inset 0 1px 2px rgba(0,0,0,.06)}
.timer-progress{height:100%;background:#34d399;transition:width .2s ease, background-color .2s ease}
.timer-text{font-weight:800;color:#0b0f2a;font-size:12px;min-width:40px;text-align:center}
.timer-wrap.med .timer-progress{background:#fb923c}
.timer-wrap.low .timer-progress{background:#ef4444;animation:pulseBar .9s ease-in-out infinite}
@keyframes pulseBar{0%{filter:brightness(1)}50%{filter:brightness(1.25)}100%{filter:brightness(1)}}
.timer-wrap.low .timer-text{color:#ef4444}

/* Skribbl-like circular timer badge */
.sk-timer{position:relative;display:flex;align-items:center;justify-content:center;margin-right:4px}
.sk-timer.funky{animation:bob 1.8s ease-in-out infinite}
.sk-timer.panic{animation:shake .5s ease-in-out infinite}
.sk-circle{position:absolute;width:34px;height:34px;border-radius:50%;background:#ffffff;border:3px solid #1f2937;box-shadow:0 2px 0 rgba(0,0,0,.04), inset 0 -2px 0 rgba(0,0,0,.04)}
.sk-svg{position:relative}
.sk-ring-bg{fill:none;stroke:#c7d2fe;stroke-width:4}
.sk-ring-fg{fill:none;stroke:#1f2937;stroke-width:4;stroke-linecap:round;transform:rotate(-90deg);transform-origin:50% 50%;transition:stroke-dasharray .2s ease, stroke .2s ease}
.sk-timer.panic .sk-ring-fg{stroke:#ef4444}
.sk-text{display:flex;align-items:center;justify-content:center;height:100%;font-family:Nunito,system-ui;font-weight:900;font-size:16px;color:#1f2937}

@keyframes bob{0%{transform:translateY(0)}50%{transform:translateY(-2px)}100%{transform:translateY(0)}}
@keyframes shake{0%{transform:translateX(0) rotate(0)}25%{transform:translateX(-1px) rotate(-1deg)}50%{transform:translateX(1px) rotate(1deg)}75%{transform:translateX(-1px) rotate(-1deg)}100%{transform:translateX(0) rotate(0)}}

.sidebar{grid-area:sidebar;background:var(--panel);border:1px solid var(--border);border-radius:10px;padding:10px;display:flex;flex-direction:column;gap:10px;box-shadow:var(--shadow);overflow:auto}
.section-title{font-weight:700;color:var(--muted);font-size:11px;text-transform:uppercase;letter-spacing:1px;margin-bottom:6px}
.form input,.form button{width:100%;padding:10px 12px;border-radius:10px;border:1px solid var(--border);background:#ffffff;color:var(--text)}
.form input{margin-bottom:8px}
.button-primary{background:#f3f6ff;border:1px solid var(--border);color:#0b0f2a;font-weight:700;cursor:pointer;transition:.15s transform, .15s box-shadow}
.button-primary:hover{transform:translateY(-1px);box-shadow:0 10px 16px rgba(124,92,255,.18)}
.list{background:#ffffff;border:1px solid var(--border);border-radius:10px;padding:8px}
.player{padding:8px 10px;border-radius:10px;display:flex;justify-content:space-between;align-items:center}
.player{align-items:flex-start}
.player.row-0{background:#fafcff}
.player.row-1{background:#ffffff}
.rank{display:inline-flex;align-items:center;justify-content:center;min-width:22px;height:22px;border-radius:999px;background:#eef2ff;border:1px solid var(--border);font-size:12px;font-weight:800;color:#374151}
.rank.rank-1{background:#fff7cc;border-color:#fde68a}
.rank.rank-2{background:#e5ecff;border-color:#c7d2fe}
.rank.rank-3{background:#ffe7da;border-color:#fdba74}
.player .tags{opacity:.8;font-size:12px}
.player .chip{padding:2px 8px;border-radius:999px;background:#eef2ff;border:1px solid var(--border);font-size:11px;color:#4f46e5}
.player .muted{opacity:.6}
.player .guessed{background:#e8fff4;color:#15803d;border-color:#bbf7d0}
/* Player name + score layout */
.player-name{font-weight:800}
.player-name.guessed{color:#15803d}
.player-score{font-size:12px;color:#6b7280;margin-top:2px}
/* Brush icon for current drawer */
.brush{display:inline-block}
.brush.bounce{animation:brushBounce 1.2s ease-in-out infinite}
@keyframes brushBounce{0%{transform:translateY(0)}50%{transform:translateY(-2px)}100%{transform:translateY(0)}}

.stage{grid-area:stage;position:relative;background:#ffffff;border:1px solid var(--border);border-radius:10px;overflow:hidden;box-shadow:var(--shadow)}
.canvas{width:100%;height:100%;display:block;cursor:crosshair;background:#ffffff}
.toolbar{position:absolute;left:12px;top:12px;display:flex;gap:8px;background:#ffffffd9;border:1px solid var(--border);backdrop-filter:saturate(1.2) blur(6px);padding:8px;border-radius:10px;box-shadow:var(--shadow)}
.toolbar input[type="color"]{appearance:none;width:36px;height:36px;border:none;border-radius:8px;padding:0}
.toolbar input[type="range"]{width:140px}
.toolbar button{padding:8px 10px;border-radius:10px;border:1px solid var(--border);background:#fff;color:#111827;cursor:pointer}

/* Bottom color bar */
.colorbar{position:absolute;left:50%;transform:translateX(-50%);bottom:12px;display:flex;align-items:center;gap:10px;background:#ffffffd9;border:1px solid var(--border);backdrop-filter:saturate(1.2) blur(6px);padding:8px 10px;border-radius:999px;box-shadow:var(--shadow)}
.colorbar input[type="color"]{appearance:none;width:40px;height:40px;border:none;border-radius:10px;padding:0}
.colorbar input[type="range"]{width:160px}
.colorbar button{padding:8px 10px;border-radius:10px;border:1px solid var(--border);background:#fff;color:#111827;cursor:pointer}
.colorbar .tool-btn{font-size:22px; line-height:1; width:42px; height:42px; display:inline-flex; align-items:center; justify-content:center; border-radius:10px}
.colorbar .tool-btn.active{background:linear-gradient(180deg, #ffffff, #f7f8ff); border-color:#7c5cff; box-shadow:0 0 0 2px #7c5cff33 inset, 0 6px 12px rgba(124,92,255,.16)}
.colorbar .tool-btn:not(.active):hover{background:#f8fafc}
.swatches{display:flex;gap:8px}
.swatch{width:28px;height:28px;border-radius:8px;border:1px solid rgba(0,0,0,.12);cursor:pointer}
.swatch-white{background:conic-gradient(#fff 0 25%, #eee 0 50%, #fff 0 75%, #eee 0);}

@media (max-width: 900px){
  .masked-word{font-size:22px}
  .colorbar{gap:8px;padding:8px}
  .colorbar input[type="range"]{width:120px}
  .swatch{width:24px;height:24px}
  .colorbar input[type="color"]{width:34px;height:34px}
  .colorbar .tool-btn{width:38px;height:38px;font-size:20px}
}

.chat{grid-area:chat;display:flex;flex-direction:column;background:#ffffff;border:1px solid var(--border);border-radius:10px;overflow:hidden;box-shadow:var(--shadow)}
.chat-log{flex:1;padding:10px;overflow:auto}
.chat-item{margin-bottom:6px}
.chat-item.chat-system{color:#2563eb}
.chat-item.chat-guess{background:#f0fdf4;border:1px solid #bbf7d0;padding:4px 6px;border-radius:8px}
.chat-input{display:flex;gap:8px;padding:10px;border-top:1px solid var(--border);background:#f9fbff}
.chat-input input{flex:1;padding:10px 12px;border-radius:10px;border:1px solid var(--border);background:#ffffff;color:#111827}
.chat-input button{padding:10px 14px;border-radius:10px;border:1px solid var(--border);background:#f3f6ff;font-weight:700;color:#0b0f2a;cursor:pointer}
/* Mic + Send icon buttons */
.chat-mic-btn{width:44px;height:44px;display:inline-flex;align-items:center;justify-content:center;border-radius:12px;background:#fff;border:1px solid var(--border);font-size:20px}
.chat-mic-btn.on{outline:2px solid #22c55e33;box-shadow:0 0 0 2px #22c55e33 inset, 0 0 0 6px #22c55e1a}
.chat-mic-btn.off{opacity:.9}
.chat-mic-btn:hover{background:#f8fafc}
.chat-send-btn{width:44px;height:44px;display:inline-flex;align-items:center;justify-content:center;border-radius:12px;background:#0ea5e9;border:1px solid #0284c7;color:#fff;font-size:18px}
.chat-send-btn:disabled{opacity:.6;cursor:not-allowed}
.chat-send-btn:not(:disabled):hover{filter:brightness(1.05)}

.info{display:flex;gap:12px;align-items:center}
.info .pill{padding:6px 10px;border-radius:999px;background:#eef2ff;border:1px solid var(--border);font-size:12px}
.word{font-family:Nunito;font-size:18px}
.timer{font-weight:800;color:#16a34a}

/* Invite */
.invite-btn{padding:8px 10px;border-radius:10px;border:1px solid var(--border);background:#ffffff;cursor:pointer}
.invite-btn:hover{background:#f8fafc}

/* Voice dock removed – mic moved into chat */

/* Word choice modal */
.modal-header{display:flex;align-items:center;justify-content:space-between;gap:10px;margin-bottom:8px}
.modal-backdrop{position:fixed;inset:0;background:rgba(2,6,23,.35);backdrop-filter:blur(2px);display:flex;align-items:center;justify-content:center;z-index:50}
.modal-card{width:560px;max-width:92vw;background:#ffffff;border:1px solid var(--border);border-radius:16px;box-shadow:var(--shadow);padding:18px 18px 20px;display:flex;flex-direction:column;gap:14px}
.modal-title{font-family:Nunito;font-weight:900;font-size:18px;letter-spacing:.3px}
.circle-timer{filter:drop-shadow(0 2px 6px rgba(0,0,0,.1))}
.circle-timer .ct-bg{fill:none;stroke:#e5e7eb;stroke-width:6}
.circle-timer .ct-fg{fill:none;stroke:#22c55e;stroke-linecap:round;stroke-width:6;transform:rotate(-90deg);transform-origin:50% 50%;transition:stroke-dasharray .2s ease}
.circle-timer .ct-text{font-size:10px;fill:#0b0f2a;font-weight:800}

/* Masked word letters */
.mask-wrap{display:flex;gap:6px}
.mask-letter{position:relative;display:inline-flex;min-width:12px;justify-content:center}
/* No underline or decoration for blanks */
.mask-letter.blank::after{content:none}
.choice-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}
.choice-card{position:relative;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:10px;padding:18px 12px;border-radius:14px;border:1px solid var(--border);background:radial-gradient(300px 180px at 50% -20%, rgba(124,92,255,.12), transparent), #ffffff;cursor:pointer;transition:transform .18s ease, box-shadow .18s ease, border-color .18s ease}
.choice-card:hover{transform:translateY(-2px) rotate(-.3deg);box-shadow:0 12px 24px rgba(124,92,255,.18);border-color:#c7d2fe}
.choice-card:active{transform:translateY(0) scale(.99)}
.choice-card .choice-emoji{font-size:28px}
.choice-card .choice-text{font-weight:800;letter-spacing:.3px}
.modal-hint{font-size:12px;color:#6b7280}

/* Toasts */
.toast-wrap{position:fixed;right:16px;bottom:16px;display:flex;flex-direction:column;gap:8px;z-index:60}
.toast{min-width:220px;max-width:300px;padding:10px 12px;border-radius:12px;border:1px solid var(--border);background:#ffffff;box-shadow:var(--shadow);font-weight:600;color:#111827}
.toast.info{border-color:#c7d2fe;background:linear-gradient(180deg,#ffffff,#f7f8ff)}
.toast.success{border-color:#bbf7d0;background:linear-gradient(180deg,#ffffff,#f3fff8);color:#065f46}
.toast.error{border-color:#fecaca;background:linear-gradient(180deg,#ffffff,#fff5f5);color:#7f1d1d}

/* Avatars */
.avatar{width:40px;height:40px;border-radius:12px;display:inline-flex;align-items:center;justify-content:center;font-size:20px;border:1px solid var(--border);box-shadow:var(--shadow)}
.avatar.small{width:24px;height:24px;border-radius:8px;font-size:14px;margin-right:8px;vertical-align:middle}
/* Emoji-only avatar variant (player list) */
.avatar.emoji-only{display:inline-block;position:relative;width:auto;height:auto;margin-right:8px;border:none!important;border-radius:0!important;background:transparent!important;box-shadow:none!important;padding:0;vertical-align:middle;font-size:26px;line-height:1}
.avatar.emoji-only.preview{font-size:32px}
/* Remove box glow for emoji-only; use glyph glow instead */
.avatar.emoji-only.voice{box-shadow:none!important;text-shadow:0 0 2px rgba(16,185,129,.7), 0 0 8px rgba(16,185,129,.6), 0 0 16px rgba(16,185,129,.45)}
.avatar.emoji-only.speaking{box-shadow:none!important;animation:speakingGlow 1.1s ease-in-out infinite}
@keyframes speakingGlow{0%{text-shadow:0 0 2px rgba(16,185,129,.7),0 0 8px rgba(16,185,129,.6),0 0 16px rgba(16,185,129,.45)}50%{text-shadow:0 0 4px rgba(16,185,129,.9),0 0 14px rgba(16,185,129,.7),0 0 24px rgba(16,185,129,.55)}100%{text-shadow:0 0 2px rgba(16,185,129,.7),0 0 8px rgba(16,185,129,.6),0 0 16px rgba(16,185,129,.45)}}

/* Big wave rings from the emoji glyph */
.avatar.emoji-only.voice::after,
.avatar.emoji-only.speaking::after,
.avatar.emoji-only.speaking::before{
  content:"";
  position:absolute;left:50%;top:50%;
  width:2.2em;height:2.2em; /* scales with emoji size */
  transform:translate(-50%,-50%) scale(.7);
  border-radius:50%;
  pointer-events:none;
  background:radial-gradient(circle, rgba(16,185,129,.35) 0%, rgba(16,185,129,.25) 40%, rgba(16,185,129,.12) 60%, rgba(16,185,129,0) 70%);
  filter: blur(0.5px);
  opacity:.85;
  animation:ringPulse 1.5s ease-out infinite;
}
.avatar.emoji-only.speaking::before{animation-delay:.55s}
.avatar.emoji-only.voice::after{animation-duration:1.8s}

@keyframes ringPulse{
  0%{transform:translate(-50%,-50%) scale(.6); opacity:.9}
  60%{transform:translate(-50%,-50%) scale(1.35); opacity:.45}
  100%{transform:translate(-50%,-50%) scale(1.8); opacity:0}
}
/* Voice connectivity ring */
.avatar.voice{box-shadow:0 0 0 2px #22c55e33 inset, 0 0 0 6px #22c55e1a, var(--shadow)}
/* Speaking pulse ring */
.avatar.speaking{box-shadow:0 0 0 2px #22c55e66 inset, 0 0 0 8px #22c55e26, 0 0 0 12px #22c55e14, var(--shadow); animation:speakPulse 1.2s ease-in-out infinite}
@keyframes speakPulse{0%{box-shadow:0 0 0 2px #22c55e66 inset, 0 0 0 8px #22c55e26, 0 0 0 12px #22c55e14, var(--shadow)}50%{box-shadow:0 0 0 2px #22c55e99 inset, 0 0 0 10px #22c55e33, 0 0 0 14px #22c55e1a, var(--shadow)}100%{box-shadow:0 0 0 2px #22c55e66 inset, 0 0 0 8px #22c55e26, 0 0 0 12px #22c55e14, var(--shadow)}}

/* Utility: remove avatar borders/shadows within a section */
.no-border-avatars .avatar{border:none!important;box-shadow:none!important;background:transparent!important}

/* Emoji picker */
.emoji-grid{display:grid;grid-template-columns:repeat(10, 1fr);gap:10px;justify-content:center;justify-items:center;width:100%}
/* Big, click-only emojis — no boxes */
.emoji-btn{display:inline-block;padding:0;margin:0;border:none;background:transparent;cursor:pointer;font-size:36px;line-height:1;transition:transform .12s ease;appearance:none;-webkit-appearance:none;box-shadow:none;outline:none}
.emoji-btn:hover,.emoji-btn:focus{transform:scale(1.12)}
.emoji-btn:focus-visible{outline:none}
.emoji-btn.active{transform:scale(1.2)}
/* Ensure emoji buttons inside start form never inherit .form button border/background */
.start-form .emoji-btn{width:auto!important;border:none!important;background:transparent!important;padding:0!important;margin:0!important;border-radius:0!important;box-shadow:none!important;outline:none!important}
.start-form .emoji-btn:hover,.start-form .emoji-btn:focus{background:transparent}

/* Confetti + Score pop (local celebration) */
.confetti-wrap{position:fixed;inset:0;pointer-events:none;z-index:70;overflow:hidden}
.confetti-piece{position:fixed;top:-24px;border-radius:2px;animation:confettiFall 2.6s ease-in forwards}
@keyframes confettiFall{0%{transform:translateY(-24px)}100%{transform:translateY(110vh)}}
.score-pop{position:fixed;left:50%;top:40%;transform:translate(-50%,-50%);font-family:Nunito,system-ui;font-weight:900;font-size:40px;color:#16a34a;text-shadow:0 6px 14px rgba(22,163,74,.25);animation:popScale .22s ease-out, floatFade 1.45s .22s ease forwards}
@keyframes popScale{0%{opacity:0;transform:translate(-50%,-50%) scale(.6)}100%{opacity:1;transform:translate(-50%,-50%) scale(1)}}
@keyframes floatFade{0%{opacity:1;transform:translate(-50%,-50%) translateY(0)}100%{opacity:0;transform:translate(-50%,-50%) translateY(-38px)}}

/* Game Over podium */
.podium{gap:16px}
.podium .avatar{display:inline-flex;align-items:center;justify-content:center;font-size:22px;border:none!important;border-radius:12px;box-shadow:none!important;background:transparent!important}
.podium-wrap{display:flex;align-items:flex-end;justify-content:center;gap:12px}
.podium-1,.podium-2,.podium-3{ text-align:center }
.podium-1{ transform:translateY(-8px) }
.podium-1 .avatar{width:64px;height:64px}
.podium-2 .avatar{width:48px;height:48px}
.podium-3 .avatar{width:44px;height:44px}
.podium-name{font-weight:800}
.podium-rank{color:#374151;font-weight:800}
.podium-1 .podium-rank{color:#f59e0b} /* gold */
.podium-2 .podium-rank{color:#9ca3af} /* silver */
.podium-3 .podium-rank{color:#b45309} /* bronze */
.podium-points{color:#6b7280}

/* Reactions/Quick chat overlay */
.overlay-reactions{position:absolute;right:12px;top:12px;display:flex;flex-direction:column;gap:8px;z-index:5;pointer-events:none;align-items:flex-end}
.reaction-bubble,.quick-bubble{display:inline-flex;align-items:center;gap:10px;max-width:420px;padding:12px 14px;border-radius:16px;border:1px solid var(--border);background:rgba(255,255,255,.96);box-shadow:var(--shadow);font-weight:800;color:#111827;font-size:16px;line-height:1.1;will-change:transform,opacity;transform:translateZ(0);animation:bubbleRise 1.4s cubic-bezier(.22,1,.36,1) forwards}
.reaction-bubble .from,.quick-bubble .from{font-weight:600;color:#6b7280}
@keyframes bubbleRise{0%{opacity:0;transform:translate3d(0,16px,0) scale(.98)}15%{opacity:1;transform:translate3d(0,6px,0) scale(1)}70%{opacity:1;transform:translate3d(0,-6px,0)}90%{opacity:1;transform:translate3d(0,-14px,0)}100%{opacity:0;transform:translate3d(0,-22px,0) scale(.995)}}

/* Reaction bar for guessers at colorbar spot */
.reactbar{position:absolute;left:50%;transform:translateX(-50%);bottom:12px;display:flex;align-items:center;gap:8px}
.react-trigger{padding:0;border:none;background:transparent;box-shadow:none;cursor:pointer;font-weight:800;font-size:36px;line-height:1;}
.react-trigger:hover{transform:scale(1.06)}
.react-panel{position:absolute;bottom:56px;left:50%;transform:translateX(-50%);display:flex;gap:8px;background:#ffffffd9;border:1px solid var(--border);backdrop-filter:saturate(1.2) blur(6px);padding:8px 10px;border-radius:12px;box-shadow:var(--shadow)}
.react-panel .react-item{padding:6px 8px;border-radius:10px;border:1px solid var(--border);background:#fff;cursor:pointer;font-size:18px}
.react-panel .react-item:hover{background:#f8fafc}

/* Quickbar */
.quickbar{position:fixed;left:16px;bottom:84px;display:flex;gap:10px;align-items:center;z-index:56;background:#ffffffd9;border:1px solid var(--border);backdrop-filter:saturate(1.2) blur(6px);padding:8px 10px;border-radius:12px;box-shadow:var(--shadow)}
.quickbar .quick-btn{padding:6px 10px;border-radius:10px;border:1px solid var(--border);background:#fff;cursor:pointer;font-weight:700}
.quickbar .quick-btn:hover{background:#f8fafc}
.quick-reactions{display:flex;gap:6px}
.quick-chats{display:flex;gap:6px}

/* Start overlay (create/join) */
.start-overlay{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:
  radial-gradient(120vw 120vh at 50% 50%, rgba(2,6,23,0) 0%, rgba(2,6,23,.14) 60%, rgba(2,6,23,.24) 100%),
  rgba(2,6,23,.78);
  backdrop-filter:blur(16px) saturate(1);-webkit-backdrop-filter:blur(16px) saturate(1);z-index:80;animation:overlayFadeIn .18s ease-out}
.start-overlay.fade-out{animation:overlayFadeOut .28s ease-in forwards;pointer-events:none}
.start-card{width:720px;max-width:94vw;background:#ffffff;border:1px solid var(--border);border-radius:18px;box-shadow:0 20px 60px rgba(2,6,23,.18), var(--shadow);padding:22px 22px 24px}
.brand-hero{font-family:Nunito,system-ui;font-weight:900;font-size:44px;letter-spacing:.8px;line-height:1;text-align:center;margin-bottom:6px;
  background:linear-gradient(135deg,#7c5cff 0%, #34d399 40%, #5aa7ff 60%, #7c5cff 100%);
  -webkit-background-clip:text;background-clip:text;color:transparent;
  position:relative;display:block}
/* Animated sheen */
.brand-hero::after{content:"";position:absolute;inset:0;background:linear-gradient(120deg, transparent 0%, rgba(255,255,255,.9) 10%, transparent 20%);
  transform:skewX(-16deg) translateX(-120%);animation:brandSheen 2.6s ease-in-out infinite}
@keyframes brandSheen{0%{transform:skewX(-16deg) translateX(-120%)}60%{transform:skewX(-16deg) translateX(140%)}100%{transform:skewX(-16deg) translateX(140%)}}
.start-title{font-family:Nunito,system-ui;font-weight:900;font-size:22px;letter-spacing:.4px;margin-bottom:10px}
.start-title, .start-sub{text-align:center}
@keyframes overlayFadeIn{from{opacity:0}to{opacity:1}}
@keyframes overlayFadeOut{from{opacity:1}to{opacity:0;visibility:hidden}}

/* Start overlay polish */
.funky-card{position:relative;overflow:hidden;background:radial-gradient(400px 200px at 10% -10%, rgba(124,92,255,.08), transparent), radial-gradient(420px 220px at 110% 10%, rgba(34,197,94,.08), transparent), #ffffff}
.start-sub{color:#6b7280;margin-top:-6px;margin-bottom:12px}
.start-form{display:flex;flex-direction:column;gap:10px;align-items:center;margin:0 auto}
.start-form .row{display:flex;gap:8px;justify-content:center;width:100%}
/* Make code input and New Code button same size (two equal columns) */
.start-form .row.two{display:grid;grid-template-columns:1fr 1fr;gap:8px;justify-content:center;width:100%}
.start-form .row.two .input{width:100%}
.start-form .row.two .btn.new-code{width:100%; height:100%}
.start-form .row.avatar-row{flex-direction:column;gap:16px;align-items:center;text-align:center}

/* Inputs + buttons (funky interactions) */
.start-form .input{width:100%;padding:12px 12px;border-radius:12px;border:1px solid var(--border);background:#ffffff;color:var(--text);box-shadow:0 1px 0 rgba(0,0,0,.02);transition:border-color .16s ease, box-shadow .16s ease, transform .08s ease}
.start-form .input:focus{outline:none;border-color:#c7d2fe;box-shadow:0 0 0 4px #7c5cff22}
.start-form .input.code.readonly{background:#f8fafc;color:#6b7280}
.start-form .input.code.readonly{cursor:not-allowed}

.btn{padding:12px 14px;border-radius:12px;border:1px solid var(--border);background:#ffffff;color:#0b0f2a;font-weight:800;cursor:pointer;transition:transform .12s ease, box-shadow .12s ease, background .12s ease}
.btn:hover{transform:translateY(-1px);box-shadow:0 10px 16px rgba(124,92,255,.18)}
.btn:active{transform:translateY(0)}
.btn:disabled{opacity:.6;cursor:not-allowed;filter:grayscale(.1);box-shadow:none;transform:none}
.btn:disabled:hover{transform:none;box-shadow:none}
.btn.ghost{background:linear-gradient(180deg,#ffffff,#f7f8ff)}
.btn.new-code{white-space:nowrap}
.btn-primary{background:linear-gradient(180deg,#ffffff,#eef2ff)}
.btn.btn-primary{border-color:#c7d2fe}
.btn.btn-primary.go{background:linear-gradient(180deg, #7c5cff, #5aa7ff);color:#fff;border-color:#7c5cff;box-shadow:0 8px 18px rgba(124,92,255,.28)}
.btn.btn-primary.go:hover{filter:brightness(1.02);transform:translateY(-1px)}

/* Avatar picker row */
.avatar-line{display:flex;align-items:center;justify-content:center;gap:16px;margin-bottom:6px}
/* Slight top margin for emoji panel within avatar row for extra breathing room */
.avatar-row .emoji-grid{margin-top:4px}
.avatar.big{width:56px;height:56px;border-radius:14px;font-size:28px}
.avatar.preview{transition:transform .18s ease, box-shadow .18s ease}
.avatar.preview:hover{transform:rotate(-1deg) scale(1.03)}
.color-picker-label{display:flex;align-items:center;gap:8px;font-size:12px;color:#6b7280;border:1px dashed var(--border);padding:6px 8px;border-radius:10px;background:#fafbff}
.color-input{appearance:none;width:38px;height:32px;border:none;border-radius:8px;padding:0;cursor:pointer}

/* Actions row */
.start-actions{display:flex;gap:10px;justify-content:center;margin-top:2px;width:100%}

/* Decorative floating bubbles */
.start-deco .bubble{position:absolute;border-radius:999px;opacity:.6;filter:blur(.2px)}
.start-deco .b1{width:120px;height:120px;left:-30px;top:-30px;background:radial-gradient(circle at 30% 30%, #7c5cff44, transparent);animation:float1 6s ease-in-out infinite}
.start-deco .b2{width:160px;height:160px;right:-40px;top:10px;background:radial-gradient(circle at 60% 40%, #34d39944, transparent);animation:float2 7s ease-in-out infinite}
.start-deco .b3{width:100px;height:100px;left:40%;bottom:-30px;background:radial-gradient(circle at 50% 50%, #60a5fa44, transparent);animation:float3 5.5s ease-in-out infinite}
@keyframes float1{0%{transform:translateY(0)}50%{transform:translateY(6px)}100%{transform:translateY(0)}}
@keyframes float2{0%{transform:translateY(0)}50%{transform:translateY(-8px)}100%{transform:translateY(0)}}
@keyframes float3{0%{transform:translateY(0)}50%{transform:translateY(5px)}100%{transform:translateY(0)}}

/* Responsive tweaks */
@media (max-width: 560px){
  .start-actions{flex-direction:column}
  .btn.new-code{width:120px}
}
