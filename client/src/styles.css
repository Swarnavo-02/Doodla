@import url('https://fonts.googleapis.com/css2?family=Nunito:wght@700;900&family=Inter:wght@400;600&display=swap');

:root{
  --bg:#2b64c7; /* base blue */
  --panel:#ffffff; --panel2:#ffffff;
  --border:rgba(16,24,40,.15);
  --text:#0b1020; --muted:#5b6785; --accent:#5aa7ff; --accent2:#22c55e; --danger:#ef4444; --success:#22c55e;
  --shadow: 0 6px 16px rgba(15, 23, 42, .08);
}
*{box-sizing:border-box}
html,body,#root{height:100%}
body{margin:0;/* playful doodle-like pattern */
  background:
    radial-gradient(18px 18px at 20px 20px, rgba(255,255,255,.06) 25%, transparent 26%),
    radial-gradient(18px 18px at 10px 8px, rgba(0,0,0,.06) 12%, transparent 13%),
    linear-gradient(0deg, rgba(255,255,255,.04), rgba(255,255,255,.04)),
    var(--bg);
  background-size: 60px 60px, 60px 60px, 100% 100%, auto;
  background-blend-mode: screen, normal, normal, normal;
  color:var(--text);font-family:Inter,system-ui,Arial}

.app{display:grid;grid-template-rows:64px 1fr 64px;grid-template-columns:270px 1fr 340px;grid-template-areas:"header header header" "sidebar stage chat" "voice voice voice";gap:12px;height:100%;padding:12px}
.header{grid-area:header;display:grid;grid-template-columns:1fr auto 1fr;align-items:center;gap:8px;padding:10px 12px;background:#ffffff;border:1px solid var(--border);border-radius:10px;box-shadow:var(--shadow)}
.logo{font-family:Nunito,system-ui;font-weight:900;font-size:24px;letter-spacing:.5px;background:linear-gradient(135deg,#7c5cff,#34d399);-webkit-background-clip:text;background-clip:text;color:transparent}
.header .meta{display:flex;gap:8px;align-items:center;justify-content:flex-end}
.header .center-word{display:flex;justify-content:center;align-items:center}
.header .center-word .center-stack{display:flex;flex-direction:column;align-items:center;gap:6px}
.center-row{display:flex;align-items:center;gap:12px}
.masked-word{font-family:Nunito,system-ui;font-weight:900;font-size:26px;letter-spacing:4px}
.masked-word.reveal{animation:wobble .45s ease}
@keyframes wobble{0%{transform:scale(0.98) rotate(-0.5deg)}50%{transform:scale(1.02) rotate(0.5deg)}100%{transform:scale(1) rotate(0deg)}}
.badge{padding:6px 10px;border-radius:999px;background:#f3f6ff;color:#0b1020;border:1px solid var(--border);font-size:12px}
.icon-btn{padding:6px 8px;border-radius:10px;border:1px solid var(--border);background:#ffffff;cursor:pointer;font-size:14px;line-height:1}
.icon-btn:hover{background:#f8fafc}

/* Header timer (skribbl-like) */
.timer-wrap{display:flex;align-items:center;gap:8px}
.timer-track{width:300px;height:12px;background:#e9eefc;border:1px solid #c7d2fe;border-radius:999px;overflow:hidden;box-shadow:inset 0 1px 2px rgba(0,0,0,.06)}
.timer-progress{height:100%;background:#34d399;transition:width .2s ease, background-color .2s ease}
.timer-text{font-weight:800;color:#0b0f2a;font-size:12px;min-width:40px;text-align:center}
.timer-wrap.med .timer-progress{background:#fb923c}
.timer-wrap.low .timer-progress{background:#ef4444;animation:pulseBar .9s ease-in-out infinite}
@keyframes pulseBar{0%{filter:brightness(1)}50%{filter:brightness(1.25)}100%{filter:brightness(1)}}
.timer-wrap.low .timer-text{color:#ef4444}

/* Skribbl-like circular timer badge */
.sk-timer{position:relative;display:flex;align-items:center;justify-content:center;margin-right:4px}
.sk-timer.funky{animation:bob 1.8s ease-in-out infinite}
.sk-timer.panic{animation:shake .5s ease-in-out infinite}
.sk-circle{position:absolute;width:34px;height:34px;border-radius:50%;background:#ffffff;border:3px solid #1f2937;box-shadow:0 2px 0 rgba(0,0,0,.04), inset 0 -2px 0 rgba(0,0,0,.04)}
.sk-svg{position:relative}
.sk-ring-bg{fill:none;stroke:#c7d2fe;stroke-width:4}
.sk-ring-fg{fill:none;stroke:#1f2937;stroke-width:4;stroke-linecap:round;transform:rotate(-90deg);transform-origin:50% 50%;transition:stroke-dasharray .2s ease, stroke .2s ease}
.sk-timer.panic .sk-ring-fg{stroke:#ef4444}
.sk-text{display:flex;align-items:center;justify-content:center;height:100%;font-family:Nunito,system-ui;font-weight:900;font-size:16px;color:#1f2937}

@keyframes bob{0%{transform:translateY(0)}50%{transform:translateY(-2px)}100%{transform:translateY(0)}}
@keyframes shake{0%{transform:translateX(0) rotate(0)}25%{transform:translateX(-1px) rotate(-1deg)}50%{transform:translateX(1px) rotate(1deg)}75%{transform:translateX(-1px) rotate(-1deg)}100%{transform:translateX(0) rotate(0)}}

.sidebar{grid-area:sidebar;background:var(--panel);border:1px solid var(--border);border-radius:10px;padding:10px;display:flex;flex-direction:column;gap:10px;box-shadow:var(--shadow);overflow:auto}
.section-title{font-weight:700;color:var(--muted);font-size:11px;text-transform:uppercase;letter-spacing:1px;margin-bottom:6px}
.form input,.form button{width:100%;padding:10px 12px;border-radius:10px;border:1px solid var(--border);background:#ffffff;color:var(--text)}
.form input{margin-bottom:8px}
.button-primary{background:#f3f6ff;border:1px solid var(--border);color:#0b0f2a;font-weight:700;cursor:pointer;transition:.15s transform, .15s box-shadow}
.button-primary:hover{transform:translateY(-1px);box-shadow:0 10px 16px rgba(124,92,255,.18)}
.list{background:#ffffff;border:1px solid var(--border);border-radius:10px;padding:8px}
.player{padding:8px 10px;border-radius:10px;display:flex;justify-content:space-between;align-items:center}
.player{align-items:flex-start}
.player.row-0{background:#fafcff}
.player.row-1{background:#ffffff}
.rank{display:inline-flex;align-items:center;justify-content:center;min-width:22px;height:22px;border-radius:999px;background:#eef2ff;border:1px solid var(--border);font-size:12px;font-weight:800;color:#374151}
.rank.rank-1{background:#fff7cc;border-color:#fde68a}
.rank.rank-2{background:#e5ecff;border-color:#c7d2fe}
.rank.rank-3{background:#ffe7da;border-color:#fdba74}
.player .tags{opacity:.8;font-size:12px}
.player .chip{padding:2px 8px;border-radius:999px;background:#eef2ff;border:1px solid var(--border);font-size:11px;color:#4f46e5}
.player .muted{opacity:.6}
.player .guessed{background:#e8fff4;color:#15803d;border-color:#bbf7d0}
/* Player name + score layout */
.player-name{font-weight:800}
.player-name.guessed{color:#15803d}
.player-score{font-size:12px;color:#6b7280;margin-top:2px}
/* Brush icon for current drawer */
.brush{display:inline-block}
.brush.bounce{animation:brushBounce 1.2s ease-in-out infinite}
@keyframes brushBounce{0%{transform:translateY(0)}50%{transform:translateY(-2px)}100%{transform:translateY(0)}}

.stage{grid-area:stage;position:relative;background:#ffffff;border:1px solid var(--border);border-radius:10px;overflow:hidden;box-shadow:var(--shadow)}
.canvas{width:100%;height:100%;display:block;cursor:crosshair;background:#ffffff}
.toolbar{position:absolute;left:12px;top:12px;display:flex;gap:8px;background:#ffffffd9;border:1px solid var(--border);backdrop-filter:saturate(1.2) blur(6px);padding:8px;border-radius:10px;box-shadow:var(--shadow)}
.toolbar input[type="color"]{appearance:none;width:36px;height:36px;border:none;border-radius:8px;padding:0}
.toolbar input[type="range"]{width:140px}
.toolbar button{padding:8px 10px;border-radius:10px;border:1px solid var(--border);background:#fff;color:#111827;cursor:pointer}

/* Bottom color bar */
.colorbar{position:absolute;left:50%;transform:translateX(-50%);bottom:12px;display:flex;align-items:center;gap:10px;background:#ffffffd9;border:1px solid var(--border);backdrop-filter:saturate(1.2) blur(6px);padding:8px 10px;border-radius:999px;box-shadow:var(--shadow)}
.colorbar input[type="color"]{appearance:none;width:40px;height:40px;border:none;border-radius:10px;padding:0}
.colorbar input[type="range"]{width:160px}
.colorbar button{padding:8px 10px;border-radius:10px;border:1px solid var(--border);background:#fff;color:#111827;cursor:pointer}
.colorbar .tool-btn{font-size:22px; line-height:1; width:42px; height:42px; display:inline-flex; align-items:center; justify-content:center; border-radius:10px}
.colorbar .tool-btn.active{background:linear-gradient(180deg, #ffffff, #f7f8ff); border-color:#7c5cff; box-shadow:0 0 0 2px #7c5cff33 inset, 0 6px 12px rgba(124,92,255,.16)}
.colorbar .tool-btn:not(.active):hover{background:#f8fafc}
.swatches{display:flex;gap:8px}
.swatch{width:28px;height:28px;border-radius:8px;border:1px solid rgba(0,0,0,.12);cursor:pointer}
.swatch-white{background:conic-gradient(#fff 0 25%, #eee 0 50%, #fff 0 75%, #eee 0);}

@media (max-width: 900px){
  .masked-word{font-size:22px}
  .colorbar{gap:8px;padding:8px}
  .colorbar input[type="range"]{width:120px}
  .swatch{width:24px;height:24px}
  .colorbar input[type="color"]{width:34px;height:34px}
  .colorbar .tool-btn{width:38px;height:38px;font-size:20px}
}

.chat{grid-area:chat;display:flex;flex-direction:column;background:#ffffff;border:1px solid var(--border);border-radius:10px;overflow:hidden;box-shadow:var(--shadow)}
.chat-log{flex:1;padding:10px;overflow:auto}
.chat-item{margin-bottom:6px}
.chat-item.chat-system{color:#2563eb}
.chat-item.chat-guess{background:#f0fdf4;border:1px solid #bbf7d0;padding:4px 6px;border-radius:8px}
.chat-input{display:flex;gap:8px;padding:10px;border-top:1px solid var(--border);background:#f9fbff}
.chat-input input{flex:1;padding:10px 12px;border-radius:10px;border:1px solid var(--border);background:#ffffff;color:#111827}
.chat-input button{padding:10px 14px;border-radius:10px;border:1px solid var(--border);background:#f3f6ff;font-weight:700;color:#0b0f2a;cursor:pointer}

.info{display:flex;gap:12px;align-items:center}
.info .pill{padding:6px 10px;border-radius:999px;background:#eef2ff;border:1px solid var(--border);font-size:12px}
.word{font-family:Nunito;font-size:18px}
.timer{font-weight:800;color:#16a34a}

/* Invite */
.invite-btn{padding:8px 10px;border-radius:10px;border:1px solid var(--border);background:#ffffff;cursor:pointer}
.invite-btn:hover{background:#f8fafc}

/* Voice dock */
.voice-dock{grid-area:voice;display:flex;align-items:center;justify-content:space-between;background:#ffffff;border:1px solid var(--border);border-radius:12px;padding:8px 12px;box-shadow:var(--shadow)}
.voice-left{display:flex;align-items:center;gap:10px}
.voice-btn{padding:10px 14px;border-radius:999px;border:1px solid var(--border);background:#f3f6ff;font-weight:800;color:#0b0f2a;cursor:pointer}
.voice-status{font-size:12px;color:#6b7280}
.voice-participants{display:flex;gap:8px;flex:1;justify-content:flex-end;flex-wrap:wrap}
.voice-pill{display:flex;align-items:center;gap:6px;background:#f6f7ff;border:1px solid var(--border);border-radius:999px;padding:6px 10px;box-shadow:0 2px 8px rgba(31,41,55,.06)}
.voice-pill .dot{width:8px;height:8px;border-radius:999px;background:#9ca3af}
.voice-pill.speaking .dot{background:#34d399;box-shadow:0 0 0 6px rgba(52,211,153,.15)}

/* Word choice modal */
.modal-header{display:flex;align-items:center;justify-content:space-between;gap:10px;margin-bottom:8px}
.modal-backdrop{position:fixed;inset:0;background:rgba(2,6,23,.35);backdrop-filter:blur(2px);display:flex;align-items:center;justify-content:center;z-index:50}
.modal-card{width:560px;max-width:92vw;background:#ffffff;border:1px solid var(--border);border-radius:16px;box-shadow:var(--shadow);padding:18px 18px 20px;display:flex;flex-direction:column;gap:14px}
.modal-title{font-family:Nunito;font-weight:900;font-size:18px;letter-spacing:.3px}
.circle-timer{filter:drop-shadow(0 2px 6px rgba(0,0,0,.1))}
.circle-timer .ct-bg{fill:none;stroke:#e5e7eb;stroke-width:6}
.circle-timer .ct-fg{fill:none;stroke:#22c55e;stroke-linecap:round;stroke-width:6;transform:rotate(-90deg);transform-origin:50% 50%;transition:stroke-dasharray .2s ease}
.circle-timer .ct-text{font-size:10px;fill:#0b0f2a;font-weight:800}

/* Masked word letters */
.mask-wrap{display:flex;gap:6px}
.mask-letter{position:relative;display:inline-flex;min-width:12px;justify-content:center}
/* No underline or decoration for blanks */
.mask-letter.blank::after{content:none}
.choice-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}
.choice-card{position:relative;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:10px;padding:18px 12px;border-radius:14px;border:1px solid var(--border);background:radial-gradient(300px 180px at 50% -20%, rgba(124,92,255,.12), transparent), #ffffff;cursor:pointer;transition:transform .18s ease, box-shadow .18s ease, border-color .18s ease}
.choice-card:hover{transform:translateY(-2px) rotate(-.3deg);box-shadow:0 12px 24px rgba(124,92,255,.18);border-color:#c7d2fe}
.choice-card:active{transform:translateY(0) scale(.99)}
.choice-card .choice-emoji{font-size:28px}
.choice-card .choice-text{font-weight:800;letter-spacing:.3px}
.modal-hint{font-size:12px;color:#6b7280}

/* Toasts */
.toast-wrap{position:fixed;right:16px;bottom:16px;display:flex;flex-direction:column;gap:8px;z-index:60}
.toast{min-width:220px;max-width:300px;padding:10px 12px;border-radius:12px;border:1px solid var(--border);background:#ffffff;box-shadow:var(--shadow);font-weight:600;color:#111827}
.toast.info{border-color:#c7d2fe;background:linear-gradient(180deg,#ffffff,#f7f8ff)}
.toast.success{border-color:#bbf7d0;background:linear-gradient(180deg,#ffffff,#f3fff8);color:#065f46}
.toast.error{border-color:#fecaca;background:linear-gradient(180deg,#ffffff,#fff5f5);color:#7f1d1d}

/* Avatars */
.avatar{width:40px;height:40px;border-radius:12px;display:inline-flex;align-items:center;justify-content:center;font-size:20px;border:1px solid var(--border);box-shadow:var(--shadow)}
.avatar.small{width:24px;height:24px;border-radius:8px;font-size:14px;margin-right:8px;vertical-align:middle}

/* Emoji picker */
.emoji-grid{display:grid;grid-template-columns:repeat(10, 1fr);gap:6px}
.emoji-btn{padding:6px;border-radius:8px;border:1px solid var(--border);background:#fff;cursor:pointer;font-size:18px;line-height:1;transition:transform .15s ease, box-shadow .15s ease, border-color .15s ease}
.emoji-btn:hover{transform:translateY(-1px);box-shadow:0 8px 16px rgba(0,0,0,.06);border-color:#c7d2fe}
.emoji-btn.active{outline:2px solid #7c5cff33;border-color:#7c5cff;background:linear-gradient(180deg,#fff,#f7f8ff)}

/* Confetti + Score pop (local celebration) */
.confetti-wrap{position:fixed;inset:0;pointer-events:none;z-index:70;overflow:hidden}
.confetti-piece{position:fixed;top:-24px;border-radius:2px;animation:confettiFall 2.6s ease-in forwards}
@keyframes confettiFall{0%{transform:translateY(-24px)}100%{transform:translateY(110vh)}}
.score-pop{position:fixed;left:50%;top:40%;transform:translate(-50%,-50%);font-family:Nunito,system-ui;font-weight:900;font-size:40px;color:#16a34a;text-shadow:0 6px 14px rgba(22,163,74,.25);animation:popScale .22s ease-out, floatFade 1.45s .22s ease forwards}
@keyframes popScale{0%{opacity:0;transform:translate(-50%,-50%) scale(.6)}100%{opacity:1;transform:translate(-50%,-50%) scale(1)}}
@keyframes floatFade{0%{opacity:1;transform:translate(-50%,-50%) translateY(0)}100%{opacity:0;transform:translate(-50%,-50%) translateY(-38px)}}
